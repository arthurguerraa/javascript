<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Pedra Papel Tesoura</h1>
        <p id="res"></p>
        <div class="placar">
            <div id="jogador" class="jogador">Jogador: 0</div>
            <div id="computador" class="computador">Computador: 0</div>
        </div>
        <div class="botoes">
            <button id="pedra">Pedra</button>
            <button id="papel">Papel</button>
            <button id="tesoura">Tesoura</button>
        </div>
        <div class="botoes-2">
            <button id="jogar">Jogar</button>
            <button id="resetar">Resetar</button>
        </div>
    </div>

    <script>
        const res = document.querySelector('#res');
        const jogador = document.querySelector('#jogador');
        const computador = document.querySelector('#computador');
        const btnPedra = document.querySelector('#pedra');
        const btnPapel = document.querySelector('#papel');
        const btnTesoura = document.querySelector('#tesoura');
        const btnJogar = document.querySelector('#jogar');
        const btnResetar = document.querySelector('#resetar');

        let escolhaJogador = '';
        let humanScore = 0;
        let computerScore = 0;
        let rodada = 1;

        function escolhaComputador(){
            const opcoes = ["pedra", "papel", "tesoura"];
            let escolha = Math.floor(Math.random() * 3);
            return opcoes[escolha];
        }

        btnPedra.addEventListener('click', () => {
            escolhaJogador = 'pedra';
            return escolhaJogador;
        });

        btnPapel.addEventListener('click', () => {
            escolhaJogador = 'papel';
            return escolhaJogador;
        });

        btnTesoura.addEventListener('click', () => {
            escolhaJogador = 'tesoura';
            return escolhaJogador;
        })

        const botoes = [btnPedra, btnPapel, btnTesoura];

        botoes.forEach(botao => {
            botao.addEventListener('click', () =>{
                botoes.forEach(b => b.classList.remove('selected'));

                botao.classList.add('selected')
            });
        });


        function partida(escolhaJogador, escolhaComputador){
            if(escolhaJogador === escolhaComputador){
                return 'Empate!';
            }else if(
                (escolhaJogador === 'pedra' && escolhaComputador === 'tesoura') || 
                (escolhaJogador === 'papel' && escolhaComputador === 'pedra') || 
                (escolhaJogador === 'tesoura' && escolhaComputador === 'papel')
            ){
                return 'Vitória!';
            }else{
                return 'Derrota!';
            }
        }

        btnJogar.addEventListener('click', () =>{
            if(escolhaJogador === ""){
                res.innerHTML = "Escolha pedra, papel ou tesoura antes de jogar!";
                return;
            }
            const escolhaPc = escolhaComputador();
            const resultado = partida(escolhaJogador, escolhaPc);

            if(resultado === "Vitória!"){
                humanScore ++;
            }else if(resultado === "Derrota!"){
                computerScore++
            }

            res.innerHTML = `Rodada ${rodada}: ${resultado}`
            jogador.innerHTML = `Jogador: ${humanScore}`
            computador.innerHTML = `Computador: ${computerScore}`
            rodada++;

            if(humanScore === 5){
                res.innerHTML += "<br>Parabéns! Você ganhou o jogo!";
                btnJogar.disabled = true;
            }else if(computerScore === 5){
                res.innerHTML += "<br>O computador ganhou o jogo!";
                btnJogar.disabled = true;
            }
        });

        btnResetar.addEventListener('click', () => {
            humanSelection = "";
            humanScore = 0;
            computerScore = 0;
            rodada = 1;
            res.innerHTML = "";
            jogador.innerHTML = "";
            computador.innerHTML = "";
            btnJogar.disabled = false;
            jogador.innerHTML = `Jogador: ${humanScore}`;
            computador.innerHTML = `Computador: ${computerScore}`
            
            
            botoes.forEach(b => b.classList.remove('selected'));
        });

    </script>
</body>
</html>